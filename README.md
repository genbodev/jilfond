###  АН Жилфонд
#### Тестовое задание для компании Жилфонд

##### Текст задания:
1. Есть некий RSS источник, допустим ***http://lenta.ru/rss***. Ваша задача, забрать этот xml документ и отобразить элементы RSS в виде HTML странички.
2. На этой странице должна быть возможность добавления комментария к элементам RSS. В случае с ***http://lenta.ru/rss*** это возможность высказать свое мнение о новости.
3. Комментарии должны хранится в SQL базе (желательно MySQL или MariaDB).
4. Для добавления комментария не нужна авторизация. Достаточно ввести свой email и текст сообщения.
5. Обращаться к RSS источнику можно не чаще чем 1 раз в час. Подумайте о механизме кеширования.
6. Отображение элементов RSS, добавление комментария и обновление содержимого, после добавления этого самого комментария должно происходить с помощью AJAX.

------------
#### Задача выполнена
с использованием стека технологий: HTML, JS, PHP, MySQL / без ипользования сторонних плагинов

Мои комментарии:
- Все запросы к серверу происходят посредством ajax
- При начальной загрузке происходит отправка запроса методом GET с заголовком urlencoded
- ajax.php проверяет параметры GET запроса и, если все в порядке - обращается к ресурсу за лентой RSS
- В примере задействовано кеширование через Memcache, поэтому, прежде чем запросить ленту - проверяется кеш.
- Если необходимый массив имеется в кеше - происходит дополнение массива комментариями из БД
- Если массива нет - вот тогда идет обращение к ленте с ее разбором через simplexml_load_file, а уже затем - дополнение комментариями
- Каждой новости соответствует свой guid в структуре xml.
- Через хеширование (md5) guid проверяется наличие комментариев к подгруженным новостям (items ленты)
- Приведен пример работы с mysqli. Был отброшен вариант с запросом в цикле, взамен используется пример сотавления одного запроса.
- Для этого используется bind_param в совокупности с call_user_func_array, а необходимые данные для запроса собираются во время прохода по каждому item xml
- script.js содержит код, который предоставляет возможность оставить комментарий.
- Форма для комментария появляется при клике на соответсвующий объект DOM
- Форма содержит поля для email и, непосредственно, самого комментария.
- Имеется пример работы с объектом FormData
- Данные этого объекта также уходят на сервер посредством ajax
- ajax.php каждый раз проверяет наличие параметра для загрузки ленты, если параметра нет - имеем дело с комментарием.
- Комментарий сохраняется в БД, дата создания возвращается в js, js генерирует для DOM новые элементы с информацией по комментарию.

**К заданию прикрепляю дополнительные вопросы от компании с моими ответами**

